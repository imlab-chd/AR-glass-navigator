基于AR眼镜的智能导航系统
开发者：周陈起
开发时间：2025年5月　

一、 系统说明
　　AR眼镜在交通场景中有其特殊的应用优势，虚实融合的显示特性可以让AR技术将一些虚拟物体（行人、车体、导航信息等）直接叠加到现实世界中，最直观地为驾驶员或者自动驾驶测试人员进行指引，帮助决策。例如：可以在自动驾驶的测试过程中模拟一个虚拟行人在道路上行走；可以投射出导航指引和各种交通安全标识等驾驶相关信息。
　　将AR眼镜与手机设备相结合，AR眼镜作为客户端接受手机GPS的变化带来的导航信息更新，在眼前同步显示当前路况和导航方位等信息，同时实时语音播报导航信息。
　　1.语音交互
　　本系统的语音交互功能基于科大讯飞语音服务API实现，旨在为驾驶员提供便捷、安全的导航操作体验。通过语音输入，驾驶员可直接说出目标地址（如“钟楼”“人民路”等），系统自动识别并转换为文本，填充至导航输入框，无需手动操作，显著降低了驾驶过程中的注意力分散风险。语音识别模块支持实时音频流处理，能够适应不同口音和语速，确保高准确率。
　　在目标地址输入方面，系统通过长按语音按钮（0.5秒阈值）触发录音，自动裁剪静音部分并去除标点符号，优化识别结果。例如，用户说出“兵马俑。”后，系统会将其转换为“兵马俑”并调用百度地图API进行地理编码，获取对应的经纬度坐标以启动路径规划。此外，系统还支持语音播报导航指令（如“前方100米左转进入人民路”），通过AR眼镜的音频输出实时提醒驾驶员，进一步减轻视觉负担，提升驾驶安全性。
　　语音交互功能与视觉导航图标协同工作，形成多模态交互体验，确保驾驶员在复杂交通场景中能够高效、直观地获取导航信息，同时避免因操作传统设备而导致的安全隐患。
　　2.系统架构
　　本系统的导航功能基于客户端-服务器（C/S）架构，手机作为服务端负责GPS数据采集、路径规划及导航信息处理，AR眼镜作为客户端接收并显示导航指令。具体交互流程如下：
　　（1）手机端GPS数据获取
　　GPS定位：手机通过内置GPS模块实时获取车辆当前位置的经纬度坐标（WGS84坐标系）。
　　坐标转换：由于百度地图API使用BD09坐标系，系统将WGS84坐标转换为BD09格式，确保路径规划服务的准确性。
　　路径规划：调用百度地图驾车路径规划API，根据起点（当前GPS位置）和终点（用户输入的目标地址）生成最优路线，提取转向指令、剩余距离、道路名称等结构化数据。
　　（2）导航信息封装与传输
　　数据封装：手机端将导航信息（如转向方向、距离、当前/下一道路名称）封装为NavigationMessage结构体，并通过JSON序列化为轻量级数据包。
　　网络通信：采用UDP协议以50Hz的频率向AR眼镜客户端发送导航数据包，确保低延迟传输。为优化带宽，系统通过缓存机制避免重复发送相同指令。
　　（3）AR眼镜端数据解析与显示
　　数据接收：AR眼镜通过独立线程监听UDP端口（如5005），实时接收导航数据包，并解析为IconID（转向标识编号）、距离文本、道路名称等。
　　虚实融合渲染：根据IconID动态生成对应的3D交通标识（如左转箭头、环岛图标），结合摄像机空间计算，将虚拟对象锚定在真实道路的相应位置（如右转箭头显示在道路右侧）。
　　（4）异常处理与动态更新
　　偏航检测：若车辆偏离规划路径超过阈值，手机端重新调用路径规划API，生成修正路线并更新数据包。
　　网络容错：短暂丢包可通过后续数据覆盖，确保导航连续性；长时间断网则切换至最后有效指令，维持基本功能。
二、 产品功能描述
　　本文基于百度地图API开发了一套AR导航辅助系统。该系统采用客户端-服务器（C/S）架构，手机作为服务端负责实时处理GPS数据、并且进行路径规划和导航信息更新，AR眼镜作为客户端接收并显示导航指令。通过视觉图标的方式，系统能够为驾驶员提供直观的导航辅助，避免因为视线偏移而导致的注意力分散情况的发生。同时系统集成科大讯飞语音识别API，提供语音输入和实时语音播报服务，降低获取导航信息负担。
三、 系统开发环境
　　该系统采用Unity3D开发，用C#作为脚本。
四、 系统运行环境
　　建议运行环境：
　　1) 安卓手机，Rokid MAX2 AR眼镜
　　2) 总的物理内存	2 GB